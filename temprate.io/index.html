<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <marquee behavior="slide" direction="left"><title>temprate</title></marquee>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    </head>
    <body>
        <div id="chart_style">
        <canvas id="Charts" width="400" height="400"></canvas>
        </div>
        <script>
            getdata();
            const xlabel=[];
            const value=[];
            var ctx = document.getElementById('Charts').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: xlabel,
        datasets: [
            {
            fill:true,
            label: "gloabal avg temperature" ,
            data: value,
            backgroundColor:['rgba(255, 0, 0, 0.5)'],
            borderColor:['rgba(255,25,25,0.6)'],
            borderWidth: 2
            }
            ]
    }
});
            async function getdata(){
                const res=await fetch('GLB.Ts+dSST.csv');
                const ts=await res.text();
                var table=ts.split('\n');
                const header=table[0];
                table=ts.split('\n').slice(1);
                table.forEach(row=>{
                    const col=row.split(",");
                    const year=col[0];
                    var temp=col[1];
                    temp=parseFloat(temp)+15;
                    xlabel.push(year);
                    value.push(temp);
                    console.log(year,temp);
                });
            }
        </script>
    </body>
</html>